# monitoring-script-test

Задание: написать скрипт на bash для мониторинга процесса test в среде linux. Скрипт должен отвечать следующим требованиям:
1.  Запускаться при запуске системы (предпочтительно написать юнит systemd в дополнение к скрипту)
2.  Отрабатывать каждую минуту
3.  Если процесс запущен, то стучаться(по https) на https://test.com/monitoring/test/api
4.  Если процесс был перезапущен, писать в лог /var/log/monitoring.log (если процесс не запущен, то ничего не делать) 
5.  Если сервер мониторинга не доступен, так же писать в лог.

Решение:
1. Создаем файл, куда скрипт будет писать логи touch /var/log/monitoring.log
2. Меняем владельца файла на того юзера, от которого будем запускать скрипт. Даем права на запись в этот файл chmod u+w /var/log/monitoring.log
3. Создаем юнит для запуска скрипта после reboot системы vim /etc/systemd/system/monitoring-srcript.service
4. Выдаем права на исполнение для скрипта chmod u+x /monitoring.sh
5. Перезагружаем и перечитываем все конфигурации юнитов sudo systemctl daemon-reload
6. Включаем автозапуск для нашего юнита sudo systemctl enable monitoring-script